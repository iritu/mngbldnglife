(this.webpackJsonpmngbldnglife=this.webpackJsonpmngbldnglife||[]).push([[0],{135:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(25),r=n.n(i),c=(n(91),n(13)),o=n(7),l=n(43),d=n(11),u=n(141),j=n(149),b=n(142),m=n(78),h=n(86),O=n(1);var x=function(e){for(var t=e.entity,n=t.options,a=t.votes,s=[],i=a.length,r=["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],c=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],o=[],l=[],d=0;d<n.length;d++)o.push(r[d]),l.push(c[d]);if(Array.isArray(n)){var u=0;n.forEach((function(e){var t;t=function(e,t){return t.reduce((function(t,n){return n.result===e?t+=1:t}),0)}(e,a),t>0&&(s[u]=t,u++)}))}var j={labels:n,datasets:[{label:i+"# of Votes",data:s,backgroundColor:o,borderColor:l,borderWidth:1}],options:{responsive:!0}};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("strong",{children:"Voting Percentage"}),Object(O.jsx)(h.a,{data:j})]})},g=Object(a.createContext)(null);var p=function(e){var t=e.voteTickets,n=Object(a.useContext)(g);if(!n)return Object(O.jsx)(d.a,{to:"/"});var s=!1,i=[],r=[];return n&&(s=n.isAdmin),t&&(r=t.filter((function(e){return e.buildingId===n.buildingId}))),r&&r.forEach((function(e){"open"===e.status&&i.push(e)})),Object(O.jsxs)(u.a,{children:[Object(O.jsx)("h1",{children:"Dashboard"}),!0===s?Object(O.jsx)(j.a.Link,{className:"btnLink",href:"#/tenants",children:"Add New Tenants"}):null,Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(b.a,{className:"dashboardPieRow",children:Object(O.jsxs)(m.a,{children:["   ",Object(O.jsx)("h3",{children:"Open voting tickets results "})," "]})}),Object(O.jsx)(b.a,{children:i.map((function(e,t){return Object(O.jsx)(m.a,{md:3,sm:6,children:Object(O.jsx)(x,{entity:e})},t)}))})]})]})},f=n(143),v=n(144);var I=function(){var e="/mngbldnglife";return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(f.a,{fluid:!0,className:"Jumbotron",children:Object(O.jsx)("h1",{className:"HomePageHeader",children:"Homeowner Association Management System"})}),Object(O.jsxs)("div",{className:"homePageMain",children:[Object(O.jsx)("h1",{className:"secondPHomePage",children:"Who we are"}),Object(O.jsxs)("section",{className:"homePageSectionText",children:["Communication between tenants and homeowner committee can be chalenging task.",Object(O.jsx)("br",{}),"Our aim is to ease the process and automate it simplifying the flow of Communication.",Object(O.jsx)("br",{}),"Though there are many WhatsUp groups for that matter,our added value is",Object(O.jsx)("br",{}),"to maintain and visualize the issues."]})]}),Object(O.jsxs)(u.a,{children:[Object(O.jsxs)(b.a,{className:"homePageRow",children:[Object(O.jsxs)(m.a,{xs:12,md:4,children:[Object(O.jsx)("h2",{children:"Comitee member"}),Object(O.jsxs)("span",{className:"hpText",children:[Object(O.jsx)("br",{}),"Committee member role is to add and remove tenant members, create votings, and remove/create message on the message board.",Object(O.jsx)("br",{}),"There is only one committee member per building."]})]}),Object(O.jsx)(m.a,{xs:12,md:4,children:Object(O.jsx)(v.a,{src:e+"/images/city-homepage-project.png",fluid:!0,alt:""})})]}),Object(O.jsxs)(b.a,{className:"homePageRow2",children:[Object(O.jsx)(m.a,{xs:12,md:4,children:Object(O.jsx)(v.a,{src:e+"/images/city-homepage-2.png",fluid:!0,alt:""})}),Object(O.jsxs)(m.a,{xs:12,md:4,children:[Object(O.jsx)("h2",{children:"Tenants"}),Object(O.jsxs)("span",{className:"hpText",children:[Object(O.jsx)("br",{}),"Can view and participate: Vote on issues you care, View messages of your building, Report, manage and view issues."]})]})]})]})]})},C=n(12),y=n(148),N=n(145),w=n(146);var k=function(e){var t=e.users,n=e.onLogin,s=Object(a.useContext)(g),i=Object(a.useState)(""),r=Object(o.a)(i,2),c=r[0],u=r[1],j=Object(a.useState)(""),h=Object(o.a)(j,2),x=h[0],p=h[1],f=Object(a.useState)(!1),v=Object(o.a)(f,2),I=v[0],k=v[1];return s?Object(O.jsx)(d.a,{to:"/dashboard"}):Object(O.jsxs)("div",{style:{marginTop:20},children:[Object(O.jsx)("h1",{className:"loginHeader",children:"Login to HOA system "}),Object(O.jsx)(b.a,{children:Object(O.jsx)(m.a,{sm:12,md:6,className:"divCenter",children:Object(O.jsxs)("h2",{className:"loginHeader",children:["  New? \xa0 ",Object(O.jsx)(l.b,{to:"/signup",children:"Create a new account"})]})})}),Object(O.jsx)(b.a,{children:Object(O.jsx)(m.a,{sm:12,md:8,className:"divCenter",style:{marginTop:10,maxWidth:650},children:Object(O.jsxs)(y.a,{className:"loginForm",onSubmit:function(e){e.preventDefault();var a,s=null,i=Object(C.a)(t);try{for(i.s();!(a=i.n()).done;){var r=a.value;if(r.login(c,x)){s=r;break}}}catch(o){i.e(o)}finally{i.f()}s?n(s):k(!0)},children:[I?Object(O.jsx)(N.a,{variant:"danger",children:"Invalid credentials"}):null,Object(O.jsx)(y.a.Group,{controlId:"formBasicEmail",children:Object(O.jsx)(y.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){return u(e.target.value)}})}),Object(O.jsx)(y.a.Group,{controlId:"formBasicPassword",children:Object(O.jsx)(y.a.Control,{type:"password",placeholder:"Password",value:x,onChange:function(e){return p(e.target.value)}})}),Object(O.jsx)(w.a,{className:"submitForm",type:"submit",block:!0,children:"Login"})]})})})]})};var A=function(e){var t=e.onNewUser,n=Object(a.useState)(""),s=Object(o.a)(n,2),i=s[0],r=s[1],c=Object(a.useState)(""),l=Object(o.a)(c,2),u=l[0],j=l[1],h=Object(a.useState)(""),x=Object(o.a)(h,2),g=x[0],p=x[1],f=Object(a.useState)(""),I=Object(o.a)(f,2),C=I[0],N=I[1],k=Object(a.useState)(""),A=Object(o.a)(k,2),S=A[0],T=A[1],U=Object(a.useState)(null),L=Object(o.a)(U,2),D=L[0],F=L[1],V=Object(a.useState)(""),M=Object(o.a)(V,2),B=M[0],H=M[1],G=Object(a.useState)(""),P=Object(o.a)(G,2),E=P[0],R=P[1],J=Object(a.useState)(""),Y=Object(o.a)(J,2),W=Y[0],z=Y[1],Q=Object(a.useState)(""),q=Object(o.a)(Q,2),Z=q[0],K=q[1];return Z?Object(O.jsx)(d.a,{to:"/login"}):Object(O.jsxs)("div",{className:"signUpPage",children:[Object(O.jsx)("h1",{className:"loginHeader divCenter",children:"Create a Committee Member Account (Admin) "}),Object(O.jsxs)(y.a,{className:"loginForm",children:[Object(O.jsx)("h3",{children:"Personal details"}),Object(O.jsx)(y.a.Group,{as:b.a,controlId:"SignUpName",children:Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Full name:",value:u,onChange:function(e){return j(e.target.value)}})}),Object(O.jsx)(y.a.Group,{as:b.a,controlId:"SignUpPassword",children:Object(O.jsx)(y.a.Control,{type:"password",placeholder:"Password",value:g,onChange:function(e){return p(e.target.value)}})}),Object(O.jsx)(y.a.Group,{as:b.a,controlId:"SignUpEmail",children:Object(O.jsx)(y.a.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return r(e.target.value)}})}),Object(O.jsx)("h3",{children:"Building details"}),Object(O.jsx)(y.a.Group,{as:b.a,controlId:"SignUpBuildingName",children:Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Building identifier name:",value:C,onChange:function(e){return N(e.target.value)}})}),Object(O.jsxs)(b.a,{children:[Object(O.jsx)(m.a,{sm:12,md:4,children:Object(O.jsx)(y.a.Group,{as:b.a,controlId:"SignUpCity",children:Object(O.jsx)(y.a.Control,{type:"text",placeholder:"City:",value:S,onChange:function(e){return T(e.target.value)}})})}),Object(O.jsx)(m.a,{sm:12,md:4,children:Object(O.jsx)(y.a.Group,{as:b.a,controlId:"SignUpstreet",children:Object(O.jsx)(y.a.Control,{type:"text",placeholder:"street:",value:B,onChange:function(e){return H(e.target.value)}})})}),Object(O.jsx)(m.a,{sm:12,md:4,children:Object(O.jsx)(y.a.Group,{as:b.a,controlId:"SignUpstreetNu",children:Object(O.jsx)(y.a.Control,{type:"number",placeholder:"street Number:",value:E,onChange:function(e){return R(e.target.value)}})})})]}),Object(O.jsx)(y.a.Group,{as:b.a,controlId:"SignUpAppNu",children:Object(O.jsx)(y.a.Control,{type:"number",placeholder:"Appartment Number:",value:W,onChange:function(e){return z(e.target.value)}})}),Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"formFile",className:"formInput",children:[Object(O.jsx)(y.a.Label,{className:"custom-file-upload",children:"Upload your Image"}),Object(O.jsx)(y.a.Control,{type:"file",accept:"image/*",onChange:function(e){1===e.target.files.length?F(e.target.files[0]):F(null)}})]}),Object(O.jsx)(v.a,{src:D?URL.createObjectURL(D):""}),Object(O.jsx)(w.a,{className:"submitForm",type:"submit",onClick:function(){var e;console.log("sign up - createNewUser "),(e=t(!0,u,i,D?URL.createObjectURL(D):"",g,S,B,E,C,W))&&K(e)},block:!0,children:"Sign Up"})]})]})},S=n(9);var T=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+(e.getHours()+":"+e.getMinutes()+":"+e.getSeconds())},U=function e(t){Object(S.a)(this,e),null===t.dateCreated?this.dateCreated=T():this.dateCreated=t.dateCreated,this.userId=t.userId,this.buildingId=t.buildingId,this.commentText=t.commentText},L=n(79),D="";window.location.href.includes("localhost")&&(D="/mngbldnglife",D+="/");var F=Object(a.createContext)(D);var V=function(e){var t=e.users,n=e.message,s=e.updateMessage,i=e.type,r=void 0===i?0:i,c=Object(a.useState)(""),l=Object(o.a)(c,2),d=l[0],u=l[1],j=Object(a.useContext)(g),h=Object(a.useContext)(F),x="",p="";return p=(x=n.img).includes("blob")?x:h+x,Object(O.jsxs)(b.a,{children:[Object(O.jsxs)(m.a,{xs:12,md:6,className:"msgCardsCol",children:[Object(O.jsxs)("h5",{children:[n.title,"    ",1===r?Object(O.jsxs)(O.Fragment,{children:["--- ",Object(O.jsx)("b",{children:"Status: "}),n.status," "]}):null]}),Object(O.jsx)("strong",{children:"Priority: "})," ",n.priority,Object(O.jsx)("br",{}),0===r?Object(O.jsx)(v.a,{src:p,rounded:!0,className:"imgAvatar",alt:n.title}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v.a,{src:p,width:"300",height:"300",alt:n.title})," ",Object(O.jsx)("br",{}),"  "]}),Object(O.jsx)("strong",{children:"Details: "})," ",n.details]}),Object(O.jsxs)(m.a,{xs:12,md:6,children:[Object(O.jsx)("h5",{children:"Comments"}),"Message ID: ",n.messageId,n.ArrayCommentsId?Object(L.a)(function(e){var n="",a="",s="",i="";return e&&(n="<ul>",e.forEach((function(e){if(s=e.dateCreated,e.userId){var r=t.findIndex((function(t){return t.userId===e.userId}));a=t[r].name,i=t[r].img,n+="<li><img class='avatarIcon' src="+h+i+" /><span class='cmntHeaderTxt'>"+a+"@"+s+"</span><br/>"+e.commentText+"</li>"}else n+="<li><span class='cmntHeaderTxt'>"+e.userId+"@"+s+"</span><br/>"+e.commentText+"</li>"})),n+="</ul>"),n}(n.ArrayCommentsId)):"",j.isAdmin||0===r?Object(O.jsxs)(y.a,{onSubmit:function(e){e.preventDefault();var t=T(),a=j.userId,i=n.buildingId,r=new U({dateCreated:t,userId:a,buildingId:i,commentText:d});s(r,n)},children:[Object(O.jsx)(y.a.Group,{controlId:"commentMsg".concat(n.messageId),children:Object(O.jsx)(y.a.Control,{as:"textarea",rows:3,value:d,onChange:function(e){return u(e.target.value)},placeholder:"Add new comment"})}),Object(O.jsx)(w.a,{variant:"secondary",size:"sm",type:"submit",children:"Add Comment"})]}):null]})]})},M=n(147);var B=function(e){var t=e.show,n=e.onClose,s=e.onCreate,i=e.activeUserBuildingid,r=e.activeUserId,c=e.objMsg,l=e.type,d=void 0===l?0:l,u=Object(a.useState)(""),j=Object(o.a)(u,2),h=j[0],x=j[1],g=Object(a.useState)(""),p=Object(o.a)(g,2),f=p[0],I=p[1],C=Object(a.useState)("Info"),N=Object(o.a)(C,2),k=N[0],A=N[1],S=Object(a.useState)(""),U=Object(o.a)(S,2),L=U[0],D=U[1],F=Object(a.useState)(null),V=Object(o.a)(F,2),B=V[0],H=V[1],G=Object(a.useState)(""),P=Object(o.a)(G,2),E=P[0],R=P[1],J="Message";1===d&&(J="Ticket");var Y="Create New "+J;function W(){x(""),I(""),A("Info"),D(null),R(""),H(null),n()}c&&(Y="Update "+J),Object(a.useEffect)((function(){x(c.title),I(c.details),A(c.priority),D(c.img),R(c.messageId)}),[c,B]);var z=T();return Object(O.jsxs)(M.a,{show:t,onHide:W,size:"lg",children:[Object(O.jsx)(M.a.Header,{closeButton:!0,children:Object(O.jsxs)(M.a.Title,{children:[" ",Y," "]})}),Object(O.jsx)(M.a.Body,{children:Object(O.jsxs)(y.a,{children:[Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"MsgTitle",children:[Object(O.jsx)(y.a.Label,{column:!0,sm:3,children:"Title"}),Object(O.jsx)(m.a,{sm:9,children:Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Issue title",value:h,onChange:function(e){return x(e.target.value)}})})]}),Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"MsgDetails",children:[Object(O.jsx)(y.a.Label,{column:!0,sm:3,children:"Details"}),Object(O.jsx)(m.a,{sm:9,children:Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Issue details",value:f,onChange:function(e){return I(e.target.value)}})})]}),Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"MsgPriority",children:[Object(O.jsx)(y.a.Label,{column:!0,sm:3,children:"Priority"}),Object(O.jsx)(m.a,{sm:9,children:Object(O.jsx)(y.a.Control,{as:"select",value:k,onChange:function(e){return A(e.target.value)},children:[{name:"Info",value:"Info"},{name:"Important",value:"Important"}].map((function(e){return Object(O.jsx)("option",{value:e.value,children:e.name},e.value)}))})})]}),Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"MsgImg",children:[Object(O.jsxs)(y.a.Label,{column:!0,sm:3,children:[J," Image"]}),Object(O.jsx)(m.a,{sm:9,children:Object(O.jsx)(y.a.Control,{type:"file",accept:"image/*",onChange:function(e){1===e.target.files.length?D(URL.createObjectURL(e.target.files[0])):D(null)}})})]}),Object(O.jsx)(v.a,{src:L,alt:"",className:"imgAvatar"})]})}),Object(O.jsxs)(M.a.Footer,{children:[Object(O.jsx)(w.a,{variant:"secondary",onClick:W,children:"Cancel"}),Object(O.jsx)(w.a,{variant:"primary",onClick:function(){var e=i,t=r,a=E,o=c.ticketId;s(1===d?o:a,e,t,z,h,f,k,L,""),n()},children:"Submit"})]})]})};var H=function(e){var t=e.messages,n=e.users,s=e.onNewMessage,i=e.onDeleteMsg,r=e.onUpdateComment,c=Object(a.useContext)(g),l=Object(a.useState)(!1),j=Object(o.a)(l,2),h=j[0],x=j[1],p=Object(a.useState)(""),f=Object(o.a)(p,2),v=f[0],I=f[1],C=Object(a.useState)(""),y=Object(o.a)(C,2),N=y[0],k=y[1],A=Object(a.useState)("dateCreated"),S=Object(o.a)(A,2),T=S[0],U=S[1];if(!c)return Object(O.jsx)(d.a,{to:"/"});var L=t.filter((function(e){return e.buildingId===c.buildingId&&(e.title.toLowerCase().includes(N.toLowerCase())||e.details.toLowerCase().includes(N.toLowerCase()))}));function D(e){x(!0),I(e)}function F(e,t){r(e,t)}return L.sort((function(e,t){return e[T]>t[T]?1:e[T]<t[T]?-1:0})),Object(O.jsxs)(u.a,{children:[Object(O.jsx)("h1",{children:"Messages "}),Object(O.jsx)("br",{}),Object(O.jsxs)(b.a,{children:[Object(O.jsx)(m.a,{md:8,sm:12,children:Object(O.jsxs)("form",{className:"d-flex",children:[Object(O.jsx)("input",{type:"text",className:"msgPageInput",placeholder:"Filter Messages by text in title and details",value:N,onChange:function(e){return k(e.target.value)}}),Object(O.jsxs)("select",{value:T,onChange:function(e){return U(e.target.value)},className:"form-control",children:[Object(O.jsx)("option",{value:"dateCreated",children:"Filter by: Date Created"}),Object(O.jsx)("option",{value:"priority",children:"Filter by: Priority"})]})]})}),Object(O.jsx)(m.a,{md:2,sm:12,children:c.isAdmin?Object(O.jsx)(w.a,{variant:"outline-primary",onClick:function(){return D("")},children:"New Message"}):null})]}),L.map((function(e,t){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(b.a,{className:"msgCards",children:Object(O.jsxs)(m.a,{children:[Object(O.jsxs)(b.a,{children:[Object(O.jsx)(m.a,{xs:6,md:2,children:c.isAdmin?Object(O.jsx)(w.a,{className:"btnUpdateMsg",variant:"primary",size:"sm",onClick:function(){return D(e)},children:"Update Message"}):null}),Object(O.jsx)(m.a,{xs:6,md:2,children:c.isAdmin?Object(O.jsx)(w.a,{variant:"danger",size:"sm",onClick:function(){return t=e.messageId,void i(t);var t},children:"Delete Message"}):null})]}),Object(O.jsx)(V,{users:n,message:e,updateMessage:F})]})},e.messageId)})})),Object(O.jsx)(B,{show:h,onClose:function(){return x(!1)},onCreate:s,activeUserBuildingid:c.buildingId,activeUserId:c.userId,objMsg:v})]})};var G=function(e){var t=e.show,n=e.onClose,s=e.onCreate,i=e.objUser,r=e.onUpdateUser,c=Object(a.useContext)(g),l=Object(a.useState)(""),d=Object(o.a)(l,2),u=d[0],j=d[1],h=Object(a.useState)(""),x=Object(o.a)(h,2),p=x[0],f=x[1],I=Object(a.useState)(""),C=Object(o.a)(I,2),N=C[0],k=C[1],A=Object(a.useState)(""),S=Object(o.a)(A,2),T=S[0],U=S[1],L=Object(a.useState)(""),D=Object(o.a)(L,2),F=D[0],V=D[1],B=Object(a.useState)(null),H=Object(o.a)(B,2),G=H[0],P=H[1],E="Create New Tenant ";function R(){j(""),f(""),V(""),k(null),U(""),P(null),n()}return i&&(E="Update Tenant"),Object(a.useEffect)((function(){i&&(j(i.name),f(i.email),V(i.pswrd),k(i.img),U(i.appNumber))}),[i,G]),Object(O.jsxs)(M.a,{show:t,onHide:R,size:"lg",children:[Object(O.jsx)(M.a.Header,{closeButton:!0,children:Object(O.jsxs)(M.a.Title,{children:[" ",E," "]})}),Object(O.jsx)(M.a.Body,{children:Object(O.jsxs)(y.a,{children:[Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"UserName",children:[Object(O.jsx)(y.a.Label,{column:!0,sm:3,children:"Name"}),Object(O.jsx)(m.a,{sm:9,children:Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Full Name",value:u,onChange:function(e){return j(e.target.value)}})})]}),Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"UserEmail",children:[Object(O.jsx)(y.a.Label,{column:!0,sm:3,children:"Email"}),Object(O.jsx)(m.a,{sm:9,children:Object(O.jsx)(y.a.Control,{type:"email",placeholder:"E Mail",value:p,onChange:function(e){return f(e.target.value)}})})]}),Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"UserPswd",children:[Object(O.jsx)(y.a.Label,{column:!0,sm:3,children:"User Password"}),Object(O.jsx)(m.a,{sm:9,children:Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Password",value:F,onChange:function(e){return V(e.target.value)}})})]}),Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"UserAppartment",children:[Object(O.jsx)(y.a.Label,{column:!0,sm:3,children:"Appartment Nu."}),Object(O.jsx)(m.a,{sm:9,children:Object(O.jsx)(y.a.Control,{type:"number",placeholder:"Appartment Number",value:T,onChange:function(e){return U(e.target.value)}})})]}),Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"UserImg",children:[Object(O.jsx)(y.a.Label,{column:!0,sm:3,children:"User Image"}),Object(O.jsx)(m.a,{sm:9,children:Object(O.jsx)(y.a.Control,{type:"file",accept:"image/*",onChange:function(e){1===e.target.files.length?k(URL.createObjectURL(e.target.files[0])):k(null)}})})]}),Object(O.jsx)(v.a,{src:N,alt:"",className:"imgAvatar"})]})}),Object(O.jsxs)(M.a.Footer,{children:[Object(O.jsx)(w.a,{variant:"secondary",onClick:R,children:"Cancel"}),Object(O.jsx)(w.a,{variant:"primary",onClick:function(){var e=0,t=F,n=c.city,a=c.street,o=c.stNumber,l=c.buildingName,d=c.buildingId,j=T;i?(e=i.userId,r(e,u,p,N,t,j)):s(e,"false",u,p,N,t,n,a,o,l,d,j),R()},children:"Submit"})]})]})};var P=function(e){var t=e.users,n=e.onNewUser,s=e.onDeleteUser,i=e.onUpdateUser,r=Object(a.useContext)(g),c=Object(a.useContext)(F),l=Object(a.useState)(""),j=Object(o.a)(l,2),h=j[0],x=j[1],p=Object(a.useState)(!1),f=Object(o.a)(p,2),I=f[0],C=f[1],y=Object(a.useState)(""),N=Object(o.a)(y,2),k=N[0],A=N[1];if(!r)return Object(O.jsx)(d.a,{to:"/"});if(!1===r.isAdmin)return Object(O.jsx)(d.a,{to:"/"});var S="";function T(e){C(!0),A(e)}return Array.isArray(t)&&(S=t.filter((function(e){return e.buildingId===r.buildingId&&1===e.isActive&&(e.name.toLowerCase().includes(h.toLowerCase())||e.email.toLowerCase().includes(h.toLowerCase())||parseInt(e.appNumber)===parseInt(h))}))),Object(O.jsxs)(u.a,{children:[Object(O.jsx)("h1",{children:"Tenants List"}),Object(O.jsxs)(b.a,{children:[Object(O.jsx)(m.a,{md:8,children:Object(O.jsx)("form",{className:"d-flex",children:Object(O.jsx)("input",{type:"text",className:"msgPageInput",placeholder:"Filter users by: name/email/appartment number",value:h,onChange:function(e){return x(e.target.value)}})})}),Object(O.jsx)(m.a,{md:2,children:r.isAdmin?Object(O.jsx)(w.a,{variant:"outline-primary",onClick:function(){return T("")},children:"New Tenant"}):null})]}),S?S.map((function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(b.a,{className:"msgCards",children:Object(O.jsx)(m.a,{children:Object(O.jsxs)(b.a,{children:[Object(O.jsxs)(m.a,{xs:4,md:2,className:"tenantsPageUserImg",children:[Object(O.jsxs)("h4",{className:"tenantsPageH4",children:[e.isAdmin?"Admin: ":null,e.name]}),Object(O.jsx)(v.a,{src:c+e.img,rounded:!0,className:"imgAvatar"})]}),Object(O.jsxs)(m.a,{xs:8,md:4,children:["Email: ",Object(O.jsx)("a",{href:"mailto:".concat(e.email),children:e.email}),Object(O.jsx)("br",{}),"Appartment Number: ",e.appNumber]}),Object(O.jsxs)(m.a,{xs:12,md:4,className:"btnLine",children:[r.isAdmin?Object(O.jsx)(w.a,{className:"btnUpdateMsg",variant:"primary",size:"sm",onClick:function(){return T(e)},children:"Update User"}):null,r.isAdmin?Object(O.jsx)(w.a,{variant:"danger",size:"sm",onClick:function(){return t=e.userId,void s(t);var t},children:"Delete User"}):null]})]})})},e.userId)})})):null,Object(O.jsx)(G,{show:I,onClose:function(){return C(!1)},onCreate:n,objUser:k,onUpdateUser:i})]})},E=n(56),R=n.n(E);var J=function(e){var t=e.selectOptions,n=e.funcSetVoteFor,s=Object(a.useState)(""),i=Object(o.a)(s,2),r=i[0],c=i[1];return Object(O.jsxs)("form",{className:"selectOptionsForm",children:[Object(O.jsx)("span",{children:"Options for this Vote Ticket: "}),Object(O.jsxs)("select",{value:r,onChange:function(e){return c(e.target.value)},className:"form-control",children:[Object(O.jsx)("option",{children:"Select Options: "}),Array.isArray(t)?t.map((function(e){return Object(O.jsx)("option",{value:e,children:e})})):null]}),Object(O.jsx)("button",{onClick:function(e){e.preventDefault(),n(r)},children:"Update Vote"})]})};var Y=function(e){var t=e.voteTicket,n=e.funcUpdateDate,s=e.funcUpdateVote,i=e.funcCloseTicket,r=Object(a.useContext)(g),c=Object(a.useState)(new Date),l=Object(o.a)(c,2),d=l[0],j=l[1],h=Object(a.useState)(!1),p=Object(o.a)(h,2),f=p[0],v=p[1];return Object(a.useEffect)((function(){n&&n(d,t)}),[d,n,t]),Object(O.jsxs)(u.a,{className:"singleVoteTicket",children:[Object(O.jsxs)(b.a,{children:[Object(O.jsx)(m.a,{md:8,className:"singleVoteTicketHeader",children:Object(O.jsx)("h3",{children:t.title})}),Object(O.jsx)(m.a,{className:"singleVoteTicketHeader",children:r.isAdmin&&"open"===t.status?Object(O.jsx)(w.a,{variant:"danger",size:"sm",onClick:function(){return function(e){i(e)}(t)},children:"Close Ticket"}):null})]}),Object(O.jsxs)(b.a,{children:[Object(O.jsxs)(m.a,{md:7,sm:12,children:[Object(O.jsx)("strong",{children:"details:"})," ",t.details,Object(O.jsx)("br",{}),Object(O.jsx)("strong",{children:"End date:"})," ",d.toLocaleString()>new Date(t.endDate).toLocaleString()?d.toLocaleString():new Date(t.endDate).toLocaleString(),r.isAdmin&&"open"===t.status?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("br",{}),Object(O.jsx)("strong",{children:"Update end date:"}),Object(O.jsx)(R.a,{onChange:j,value:d,minDate:new Date(t.endDate)})]}):null,f?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"text-danger",children:"You voted for this issue, please prevent for voting twice, your vote will not be counted"})]}):null,"open"===t.status&&Array.isArray(t.options)?Object(O.jsx)(J,{selectOptions:t.options,funcSetVoteFor:function(e){var n=!1;Array.isArray(t.votes)&&t.votes.find((function(e){return e.userid===r.userId}))&&(n=!0,v(!0)),!1===n&&s(e,t)}}):null]}),Object(O.jsx)(m.a,{md:5,sm:12,children:Array.isArray(t.options)?Object(O.jsx)(x,{entity:t}):null})]})]})};var W=function(e){var t=e.show,n=e.onClose,s=e.onCreate,i=e.activeUserBuildingid,r=e.activeUserId,l=Object(a.useState)(""),d=Object(o.a)(l,2),u=d[0],j=d[1],h=Object(a.useState)(""),x=Object(o.a)(h,2),g=x[0],p=x[1],f=Object(a.useState)(new Date),v=Object(o.a)(f,2),I=v[0],C=v[1],N=Object(a.useState)([{value:null}]),k=Object(o.a)(N,2),A=k[0],S=k[1];function U(){j(""),p(""),n()}var L=T();return Object(O.jsxs)(M.a,{show:t,onHide:U,size:"lg",children:[Object(O.jsx)(M.a.Header,{closeButton:!0,children:Object(O.jsxs)(M.a.Title,{children:[" ","Create New Voting "," "]})}),Object(O.jsx)(M.a.Body,{children:Object(O.jsxs)(y.a,{children:[Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"VoteTitle",children:[Object(O.jsx)(y.a.Label,{column:!0,sm:3,children:"Title"}),Object(O.jsx)(m.a,{sm:9,children:Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Vote title",value:u,onChange:function(e){return j(e.target.value)}})})]}),Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"VoteDetails",children:[Object(O.jsx)(y.a.Label,{column:!0,sm:3,children:"Details"}),Object(O.jsx)(m.a,{sm:9,children:Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Vote details",value:g,onChange:function(e){return p(e.target.value)}})})]}),Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"VoteOptions",children:[Object(O.jsx)(y.a.Label,{column:!0,sm:3,children:"Options"}),Object(O.jsxs)(m.a,{sm:4,children:[A.map((function(e,t){return Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{className:"dynamicOptionsInput",type:"text",placeholder:"Enter option",onChange:function(e){return function(e,t){var n=Object(c.a)(A);n[e].value=t.target.value,S(n)}(t,e)}}),Object(O.jsx)(w.a,{variant:"outline-danger",type:"button",onClick:function(){return function(e){var t=Object(c.a)(A);t.splice(e,1),S(t)}(t)},children:"x"})]},"".concat(e,"-").concat(t))})),Object(O.jsx)(w.a,{variant:"outline-success",type:"button",onClick:function(){return function(){var e=Object(c.a)(A);e.push({value:null}),S(e)}()},children:"+"})]})]}),Object(O.jsxs)(y.a.Group,{as:b.a,controlId:"VoteOptions",children:[Object(O.jsx)(y.a.Label,{column:!0,sm:3,children:"End Date"}),Object(O.jsx)(m.a,{sm:9,children:Object(O.jsx)(R.a,{onChange:C,value:I,minDate:new Date})})]})]})}),Object(O.jsxs)(M.a.Footer,{children:[Object(O.jsx)(w.a,{variant:"secondary",onClick:U,children:"Cancel"}),Object(O.jsx)(w.a,{variant:"primary",onClick:function(){var e=i,t=r,n=A;console.log(A);var a=[];n.forEach((function(e){a.push(e.value)}));var c,o,l=a;c=I.getFullYear()+"-"+(I.getMonth()+1)+"-"+I.getDate(),o=I.getHours()+":"+I.getMinutes()+":"+I.getSeconds(),s(t,e,L,u,g,l,c+" "+o),U()},children:"Submit"})]})]})};var z=function(e){var t=e.voteTickets,n=e.onNewTicket,s=e.onUpdateDate,i=e.onUpdateVote,r=e.funcCloseTicket,c=Object(a.useContext)(g),l=Object(a.useState)(""),j=Object(o.a)(l,2),h=j[0],x=j[1],p=Object(a.useState)(!1),f=Object(o.a)(p,2),v=f[0],I=f[1];if(!c)return Object(O.jsx)(d.a,{to:"/"});var C=t.filter((function(e){return e.buildingId===c.buildingId&&"close"===e.status&&(e.title.toLowerCase().includes(h.toLowerCase())||e.details.toLowerCase().includes(h.toLowerCase()))})),y=t.filter((function(e){return e.buildingId===c.buildingId&&"open"===e.status}));function N(e,t){var n=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+(e.getHours()+":"+e.getMinutes()+":"+e.getSeconds());t.endDate=n,s(t)}function k(e,t){i(e,t)}function A(e){r(e)}return Object(O.jsxs)(u.a,{children:[Object(O.jsxs)(b.a,{children:[Object(O.jsxs)(m.a,{sm:6,md:6,children:[Object(O.jsx)("h1",{children:"Active Votings"}),c.isAdmin?Object(O.jsx)(w.a,{variant:"outline-primary",style:{"margin-bottom":"2vh"},onClick:function(){I(!0)},children:"New Voting"}):null,y?y.map((function(e){return Object(O.jsx)(Y,{voteTicket:e,funcUpdateDate:N,funcUpdateVote:k,funcCloseTicket:A})})):"There are no open votes"]}),Object(O.jsxs)(m.a,{children:[Object(O.jsx)("h1",{children:"Votings Results"}),Object(O.jsx)("form",{className:"d-flex",children:Object(O.jsx)("input",{type:"text",className:"msgPageInput",placeholder:"Filter by text in title and details",value:h,onChange:function(e){return x(e.target.value)}})}),C?C.map((function(e){return Object(O.jsx)(Y,{voteTicket:e})})):"There are no closed votes"]})]}),Object(O.jsx)(W,{show:v,onClose:function(){return I(!1)},onCreate:n,activeUserBuildingid:c.buildingId,activeUserId:c.userId})]})},Q=n(150);var q=function(e){var t=e.onLogout,n=Object(a.useContext)(g),s=!1;n&&(s=n.isAdmin);var i=Object(d.g)();function r(e){return i.pathname===e?" active ":""}return Object(O.jsxs)(Q.a,{sticky:"top",collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(O.jsx)(Q.a.Brand,{href:"#/",children:Object(O.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAADaElEQVR4nO2bW0gUURjH/2fcjTTt1d21J7NezB6MxFiU1PLFhyKswBtBQg9FbxHRhaGEoqCHkHooItNdyEwKtKALgrZ4ZTUvQWVvuhcf0zRQ5/SwpenMujuns2dWZn6wMHu+Of/55g/nmzkfuwSckGVZyssvrCaS4uKlqQVVpMCYv88jy7LCQ8/GQwQA9u4rqAFoEyjhJakJIRR5+YUA0MxDT+IhAgAUJJuXVkwI3clLipsBmxXLAKMTMBrTG6CrZF+4cqN8bnbuPAhVGbctLW1X6tbUHH6pRWfh18Lkz/n5b6oAJUp6Rvq9Ow1X38arpesxODn5vWN2ds6uZ06CyPnzUbE9I70cwJZ4hXQtgSS5+Q35oTNH5hehk5VHWacmhGdtL5nmMRtQf6qadWpCYDXA9E8B0xugWgLtnZ27oUhHtB519x88FpPVf9Le8fqiapASBZLy6lhFxdd/h9U1QJHeAMhO9K4uoVByS3Nckc5g3eNTawmI29WJR7WLNH0NML0B3DpClFJ86OoBAJSVFIEQIjTOCjcD3nd14/bdxpXvh0qLhcZZ4bYEgqHwynEgFBIeZ8X0NYCbAXbb6mqy29UbskTHWeFmQJH7AFzOTLicmSh2FwqPs8KtCO7IcqLpYaNhcVasGmB0AkZjGcBLaGo6iNrTZ1FXfw7TgaDwOCvcDOjx9SIUnkEwFEa3r094nBVuBiwuLa0eLy4Kj7Ni1QBeQi6HY+U4y+kQHmeF24tQZIsaOS49WCQ8zgo3AwghKCuJvkVNdJwVqwYYnYDRWC0xLiqwWmJWS2yzYrXEeAlZLTGrJbY5sQwwOgGj4VYDpqaDuHStAYQQ3Lx+GVkup2Y8FJ7ZUMfpyNxwfjR9VoS3xGJhipZYTC2BLTFuS0APtVXHUVd1Ys3YU28rmr3PhecirCWWrPrCWmLJqi+sJZas+qZ/D7AMMDoBo7EMMDoBo7HJsiz5BiaqQagLAPzDn5YJSEqsiXr/oDDx+Yuuc1n/AAEAw8OjmuMUdPlwRWXkl+SUBNwFuR7bx6HxGhA0/T2pr38oros8euJhTjAW/pFR+Ee0byIeevsHo4VSAER+SU4ofAMTkIhCKPOVGGnxttaSdbR42upE5wGiUJu7INfjGxyjFGSPkGuCjrv353nfdb5YM25UHr8BM0n3fXKSONMAAAAASUVORK5CYII=",alt:"logo"})}),Object(O.jsx)(Q.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(O.jsxs)(Q.a.Collapse,{id:"responsive-navbar-nav",children:[Object(O.jsxs)(j.a,{activeKey:i.pathname,className:"mr-auto",children:[n?Object(O.jsx)(j.a.Link,{className:r("/dashboard"),href:"#/dashboard",children:"DashBoard"}):null,!0===s?Object(O.jsx)(j.a.Link,{className:r("/tenants"),href:"#/tenants",children:"Tenants"}):null,n?Object(O.jsx)(j.a.Link,{className:r("/messages"),href:"#/messages",children:"Messages"}):null,n?Object(O.jsx)(j.a.Link,{className:r("/votings"),href:"#/votings",children:"Voting"}):null,n?Object(O.jsx)(j.a.Link,{className:r("/tickets"),href:"#/tickets",children:"Tickets"}):null,Object(O.jsx)(j.a.Link,{className:r("/contact"),href:"#/contact",children:"Contact"})]}),Object(O.jsxs)(j.a,{children:[n?null:Object(O.jsx)(j.a.Link,{href:"#/login",children:"Login"}),n?null:Object(O.jsx)(j.a.Link,{href:"#/signup",className:"signupBtn",children:"Signup"}),n?Object(O.jsx)(j.a.Link,{href:"#",onClick:function(){return t()},children:"Logout"}):null,n?Object(O.jsxs)(j.a.Link,{href:"#",children:[n.name,",  ",!0===n.isAdmin?"Admin":"Tenant"]}):null]})]})]})};var Z=function(){return Object(O.jsx)("footer",{children:Object(O.jsx)(u.a,{children:Object(O.jsx)("a",{href:"#/contact",children:"Contact"})})})},K=n(16),X=n(31);var $=function(){var e=Object(a.useState)({name:"",email:"",message:""}),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(!1),r=Object(o.a)(i,2),c=r[0],l=r[1],d=function(e){s(Object(X.a)(Object(X.a)({},n),{},Object(K.a)({},e.target.name,e.target.value)))};return Object(O.jsx)("div",{className:"contactForm",children:!1===c?Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(!0)},children:[Object(O.jsxs)(b.a,{className:"rowSpace",children:[Object(O.jsx)("label",{htmlFor:"name"}),Object(O.jsx)("input",{type:"text",required:!0,className:"form-control",name:"name",placeholder:"Your name",value:n.name,onChange:d})]}),Object(O.jsxs)(b.a,{className:"rowSpace",children:[Object(O.jsx)("label",{htmlFor:"email"}),Object(O.jsx)("input",{type:"email",required:!0,className:"form-control",name:"email",placeholder:"E-Mail",value:n.email,onChange:d})]}),Object(O.jsxs)(b.a,{className:"rowSpace",children:[Object(O.jsx)("label",{htmlFor:"message"}),Object(O.jsx)("input",{type:"text",required:!0,className:"form-control",name:"message",placeholder:"Your message",value:n.message,onChange:d})]}),Object(O.jsx)(b.a,{children:Object(O.jsx)("button",{type:"submit",className:"btn submitForm",children:"Send"})})]}):Object(O.jsxs)("div",{children:["Your details:",Object(O.jsx)("br",{}),n.name,Object(O.jsx)("br",{}),n.email,Object(O.jsx)("br",{}),n.message,Object(O.jsx)("br",{}),"This is just a demo app so there is no use here in emailjs solution (3rd party)  ."]})})};var _=function(){return Object(O.jsxs)(u.a,{children:[Object(O.jsx)("h1",{children:"Contact"}),Object(O.jsx)($,{})]})},ee=n(60),te=n(46);var ne=function(e){var t=e.issues,n=e.users,s=e.onNewTicket,i=e.onUpdateCommentIssue,r=e.updateIssueStatus,c=Object(a.useContext)(g),l=Object(a.useState)(!1),j=Object(o.a)(l,2),h=j[0],x=j[1],p=Object(a.useState)(""),f=Object(o.a)(p,2),v=f[0],I=f[1],C=Object(a.useState)("Open"),y=Object(o.a)(C,2),N=y[0],k=y[1];if(!c)return Object(O.jsx)(d.a,{to:"/"});function A(e){x(!0),I(e)}function S(e,t){i(e,t)}var T=t.filter((function(e){return e.buildingId===c.buildingId&&e.status===N}));return T.sort((function(e,t){return t.dateCreated-e.dateCreated})),Object(O.jsxs)(u.a,{children:[Object(O.jsx)("h1",{children:"Tickets"}),c?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(b.a,{style:{paddingBottom:10},children:[Object(O.jsx)(m.a,{xs:12,md:2,children:Object(O.jsx)(w.a,{className:"ticketsNavBtns",variant:"outline-primary",onClick:function(){return A("")},children:"New Ticket"})}),Object(O.jsx)(m.a,{xs:12,md:2,children:Object(O.jsx)(w.a,{className:"ticketsNavBtns",variant:"outline-primary",onClick:function(){return k("Close")},children:"Closed Tickets"})}),Object(O.jsx)(m.a,{xs:12,md:2,children:Object(O.jsx)(w.a,{className:"ticketsNavBtns",variant:"outline-primary",onClick:function(){return k("Open")},children:"Open Tickets"})})]}),Object(O.jsx)(B,{show:h,onClose:function(){return x(!1)},onCreate:s,activeUserBuildingid:c.buildingId,activeUserId:c.userId,objMsg:v,type:1})]}):null,Array.isArray(T)?T.map((function(e,t){return Object(O.jsx)(ee.a,{children:Object(O.jsxs)(te.a,{children:[Object(O.jsx)(te.a.Header,{children:Object(O.jsx)(ee.a.Toggle,{as:te.a.Title,variant:"link",eventKey:"0",children:Object(O.jsxs)(b.a,{children:[Object(O.jsxs)(m.a,{md:8,sm:6,children:["#",e.ticketId," --   ",Object(O.jsxs)("span",{className:"CardissueTitle",children:[" ",e.title]})]}),Object(O.jsxs)(m.a,{md:2,sm:6,children:[!0===c.isAdmin&&"Open"===N?Object(O.jsx)(w.a,{variant:"danger",size:"sm",onClick:function(){return t=e.ticketId,void(!0===window.confirm("Issue will be marked as deleted, are you sure ?")&&r(t,"Close"));var t},children:"Close Ticket"}):null,!0===c.isAdmin&&"Close"===N?Object(O.jsx)(w.a,{variant:"danger",size:"sm",onClick:function(){return t=e.ticketId,void(!0===window.confirm("This will reopen the issue, are you sure ?")&&r(t,"Open"));var t},children:"Reopen Ticket"}):null]}),e.userId===c.userId&&"Open"===N?Object(O.jsx)(m.a,{md:2,children:Object(O.jsx)(w.a,{size:"sm",onClick:function(){return A(e)},children:"Update Ticket"})}):null]})})}),Object(O.jsx)(ee.a.Collapse,{eventKey:"0",children:Object(O.jsx)(te.a.Body,{children:Object(O.jsx)(V,{users:n,message:e,updateMessage:S,type:1})})})]},t)})})):null]})},ae=(n(134),n(135),n(81)),se=n(82),ie=n(83),re=n(84),ce=n(85),oe=n(10),le=function(){function e(t){Object(S.a)(this,e),this.userId=t.userId,this.isAdmin=t.isAdmin,this.name=t.name,this.email=t.email,this.img=t.img,this.pswrd=t.pswrd,this.city=t.city,this.street=t.street,this.stNumber=t.stNumber,this.buildingName=t.buildingName,this.buildingId=t.buildingId,this.appNumber=t.appNumber,this.isActive?this.isActive=t.isActive:this.isActive=1}return Object(oe.a)(e,[{key:"login",value:function(e,t){return e.toLowerCase()===this.email.toLowerCase()&&t===this.pswrd}}]),e}(),de=function e(t){Object(S.a)(this,e),this.buildingId=t.buildingId,this.userId=t.userId,this.userEmail=t.userEmail,this.buildingName=t.buildingName,this.city=t.city,this.street=t.street,this.stNumber=t.stNumber},ue=function e(t){Object(S.a)(this,e),this.messageId=t.messageId,this.buildingId=t.buildingId,this.userId=t.userId,this.dateCreated=t.dateCreated,this.title=t.title,this.details=t.details,null===t.priority?this.priority="Info":this.priority=t.priority,t.img?this.img=t.img:this.img="images/msgDefault.jpg",this.ArrayCommentsId=t.ArrayCommentsId},je=function e(t){Object(S.a)(this,e),this.VoteTicketId=t.VoteTicketId,this.userId=t.userId,this.buildingId=t.buildingId,null===t.dateCreated?this.dateCreated=T():this.dateCreated=t.dateCreated,this.title=t.title,this.details=t.details,this.options=t.options,this.endDate=t.endDate,t.votes?this.votes=t.votes:this.votes=[],t.status?this.status=t.status:this.status="open",t.voteSummary?this.voteSummary=t.voteSummary:this.voteSummary=0},be=function e(t){Object(S.a)(this,e),this.ticketId=t.ticketId,this.buildingId=t.buildingId,this.userId=t.userId,null===t.dateCreated?this.dateCreated=T():this.dateCreated=t.dateCreated,this.dateCreated=t.dateCreated,this.title=t.title,this.details=t.details,null===t.priority?this.priority="Info":this.priority=t.priority,t.status?this.status=t.status:this.status="Open",t.img?this.img=t.img:this.img="images/issue-image.jpg",this.ArrayCommentsId=t.ArrayCommentsId};var me=function(){var e=Object(a.useState)(ae.map((function(e){return new le(e)}))),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(se.map((function(e){return new de(e)}))),r=Object(o.a)(i,2),u=r[0],j=r[1],b=Object(a.useState)(ie.map((function(e){return new ue(e)}))),m=Object(o.a)(b,2),h=m[0],x=m[1],f=Object(a.useState)(re.map((function(e){return new je(e)}))),v=Object(o.a)(f,2),C=v[0],y=v[1],N=Object(a.useState)(ce.map((function(e){return new be(e)}))),w=Object(o.a)(N,2),S=w[0],T=w[1],U=Object(a.useState)(null),L=Object(o.a)(U,2),D=L[0],F=L[1];function V(e,t,a,i,r,c,o,l,d,u,j,b){0===e&&(e=n[n.length-1].userId+1);var m,h=new le({userId:e,isAdmin:t,name:a,email:i,img:r,pswrd:c,city:o,street:l,stNumber:d,buildingName:u,buildingId:j,appNumber:b});m=function(e,t){for(var a in n)return!(n[a].email!==e||n[a].buildingName!==t||!n[a].isAdmin)&&(console.log("building name = "+n[a].buildingName+" email = "+n[a].email+" is admin = "+n[a].isAdmin),!0)}(i,u),!1===m&&s(n.concat(h))}return Object(O.jsxs)(g.Provider,{value:D,children:[Object(O.jsxs)(l.a,{children:[Object(O.jsx)(q,{onLogout:function(){return F(null)}}),Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{exact:!0,path:"/",children:Object(O.jsx)(I,{})}),Object(O.jsx)(d.b,{exact:!0,path:"/login",children:Object(O.jsx)(k,{users:n,onLogin:function(e){return F(e)}})}),Object(O.jsx)(d.b,{exact:!0,path:"/signup",children:Object(O.jsx)(A,{onNewUser:function(e,t,a,s,i,r,c,o,l,d){var b,m;return b=function(e,t,n,a,s,i){var r=u[u.length-1].buildingId+1,c=new de({buildingId:r,userId:e,userEmail:t,buildingName:n,city:a,street:s,stNumber:i});return j(u.concat(c)),r}(m=n[n.length-1].userId+1,a,l,r,c,o),V(m,e,t,a,s,i,r,c,o,l,b,d),m}})}),Object(O.jsx)(d.b,{exact:!0,path:"/tenants",children:Object(O.jsx)(P,{users:n,onNewUser:function(e,t,n,a,s,i,r,c,o,l,d,u){V(e,t,n,a,s,i,r,c,o,l,d,u)},onDeleteUser:function(e){var t=n.findIndex((function(t){return t.userId===e})),a=Object(c.a)(n);a[t].isActive=0,s(a)},onUpdateUser:function(e,t,a,i,r,o){var l=n.findIndex((function(t){return t.userId===e})),d=Object(c.a)(n);d[l].name=t,d[l].email=a,d[l].img=i,d[l].pswrd=r,d[l].appNumber=o,s(d)}})}),Object(O.jsx)(d.b,{exact:!0,path:"/messages",children:Object(O.jsx)(H,{messages:h,users:n,onNewMessage:function(e,t,n,a,s,i,r,c){console.log("messageId ===> "+e),e?(console.log("update message ==> "),function(e,t,n,a,s){var i=h.findIndex((function(t){return t.messageId===e}));i&&(h[i].title=t,h[i].details=n,h[i].priority=a,h[i].img=s,x(h))}(e,s,i,r,c)):function(e,t,n,a,s,i,r){console.log("addNewMsg");var c=10001;h&&(c=h[h.length-1].messageId+1);var o=new ue({messageId:c,buildingId:e,userId:t,dateCreated:n,title:a,details:s,priority:i,img:r});x(h.concat(o))}(t,n,a,s,i,r,c)},onDeleteMsg:function(e){if(!0===window.confirm("Delete message No. "+e+"?")&&h.findIndex((function(t){return t.messageId===e}))){var t=h.filter((function(t){return t.messageId!==e}));x(t)}},onUpdateComment:function(e,t){var n=t.messageId,a=h.findIndex((function(e){return e.messageId===n})),s=Object(c.a)(h);s[a].ArrayCommentsId?s[a].ArrayCommentsId.push(e):s[a].ArrayCommentsId=[{dateCreated:e.dateCreated,userId:e.userId,buildingId:e.buildingId,commentText:e.commentText}],x(s)}})}),Object(O.jsx)(d.b,{exact:!0,path:"/votings",children:Object(O.jsx)(z,{voteTickets:C,onNewTicket:function(e,t,n,a,s,i,r){console.log("Insert new vote ticket"),console.log(e+","+t+","+n+","+a+","+s+","+i+","+r);var c=10001;C&&(c=C[C.length-1].VoteTicketId+1);var o=new je({VoteTicketId:c,userId:e,buildingId:t,dateCreated:n,title:a,details:s,options:i,endDate:r});y(C.concat(o)),console.log(C)},onUpdateDate:function(e){var t=e.VoteTicketId,n=C.findIndex((function(e){return e.VoteTicketId===t}));C[n].endDate=e.endDate,y(C)},onUpdateVote:function(e,t){var n=t.VoteTicketId,a=C.findIndex((function(e){return e.VoteTicketId===n})),s=Object(c.a)(C);Array.isArray(s[a].votes)?s[a].votes.push({userid:D.userId,result:e}):s[a].votes=[{userid:D.userId,result:e}],y(s)},funcCloseTicket:function(e){var t=e.VoteTicketId,n=C.findIndex((function(e){return e.VoteTicketId===t})),a=Object(c.a)(C);a[n].status="close",y(a)}})}),Object(O.jsx)(d.b,{exact:!0,path:"/dashboard",children:Object(O.jsx)(p,{voteTickets:C})}),Object(O.jsx)(d.b,{exact:!0,path:"/tickets",children:Object(O.jsx)(ne,{issues:S,users:n,onNewTicket:function(e,t,n,a,s,i,r,o){e?(console.log("update ticket ==> "),function(e,t,n,a,s){var i=S.findIndex((function(t){return t.ticketId===e}));if(i){var r=Object(c.a)(S);r[i].title=t,r[i].details=n,r[i].priority=a,r[i].img=s,T(r)}}(e,s,i,r,o)):function(e,t,n,a,s,i,r){var c=10001;S&&(c=S[S.length-1].ticketId+1);var o=new be({ticketId:c,buildingId:e,userId:t,dateCreated:n,title:a,details:s,priority:i,status:"Open",img:r});T(S.concat(o))}(t,n,a,s,i,r,o)},onUpdateCommentIssue:function(e,t){var n=t.ticketId,a=S.findIndex((function(e){return e.ticketId===n})),s=Object(c.a)(S);s[a].ArrayCommentsId?s[a].ArrayCommentsId.push(e):s[a].ArrayCommentsId=[{dateCreated:e.dateCreated,userId:e.userId,buildingId:e.buildingId,commentText:e.commentText}],T(s)},updateIssueStatus:function(e,t){var n=S.findIndex((function(t){return t.ticketId===e})),a=Object(c.a)(S);a[n].status=t,T(a)}})}),Object(O.jsx)(d.b,{exact:!0,path:"/contact",children:Object(O.jsx)(_,{})})]})]}),Object(O.jsx)(Z,{})]})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,151)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))};r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(me,{})}),document.getElementById("root")),he()},81:function(e){e.exports=JSON.parse('[{"userId":1001,"isAdmin":true,"name":"Irit","email":"iritstempler@gmail.com","img":"images/admin-avatar.JPG","pswrd":"123456","city":"Holon","street":"Shikma","stNumber":3,"buildingName":"Shikma3","buildingId":1,"appNumber":12,"isActive":1},{"userId":1002,"isAdmin":false,"name":"Shuly","email":"Shuly@gmail.com","img":"images/avatar-woman.JPG","pswrd":"234567","city":"Holon","street":"Shikma","stNumber":3,"buildingName":"Shikma3","buildingId":1,"appNumber":11,"isActive":1}]')},82:function(e){e.exports=JSON.parse('[{"buildingId":1,"userId":1001,"userEmail":"irit@gmail.com","buildingName":"Shikma3","city":"Holon","street":"Shikma","stNumber":3}]')},83:function(e){e.exports=JSON.parse('[{"messageId":1,"buildingId":1,"userId":1001,"dateCreated":"2021-05-06 16:30:00","title":"First announcement","details":"Our new community building message","priority":"Info","ArrayCommentsId":[{"dateCreated":"2021-05-06 16:30:00","userId":1001,"buildingId":1,"commentText":"This is comment no 1 for msg no 1 "},{"dateCreated":"2021-05-10 17:39:00","userId":1001,"buildingId":1,"commentText":"This is comment no 2 for msg no 1 "},{"dateCreated":"2021-05-10 17:39:00","userId":1002,"buildingId":1,"commentText":"This is comment no 3 for msg no 1 "}]}]')},84:function(e){e.exports=JSON.parse('[{"VoteTicketId":1,"userId":1001,"buildingId":1,"dateCreated":"2021-05-06 16:30:00","title":"Prepare the roof for winter - ZIPUT ","details":"explain the vote issue - ziput","options":["yes","no"],"endDate":"2021-05-20 16:30:00","votes":[{"userid":1001,"result":"yes"},{"userid":1002,"result":"no"},{"userid":1002,"result":"no"},{"userid":1002,"result":"no"}],"status":"open","voteSummary":0},{"VoteTicketId":2,"userId":1001,"buildingId":1,"dateCreated":"2021-05-14 16:30:00","title":"New \'vaadat tarbut\' members ","details":"Since Maayan is leaving this role we need to choose someone to replace her: ","options":["Dikla","Shuly","Romi","Yael"],"endDate":"2021-05-20 16:30:00","votes":[{"userid":1001,"result":"Dikla"},{"userid":1002,"result":"Shuly"},{"userid":1003,"result":"Romi"}],"status":"open","voteSummary":0}]')},85:function(e){e.exports=JSON.parse('[{"ticketId":1,"buildingId":1,"userId":1001,"dateCreated":"2021-12-07 15:06:00","title":"First demo issue","details":"Some txt goes here about the new issue","priority":"Regular","status":"Open","img":"images/issue-image.jpg","ArrayTicketCommentsId":[{"dateCreated":"2021-12-07 16:30:00","userId":1001,"buildingId":1,"commentText":"This is comment no 1 for ticket no 1 "}]},{"ticketId":2,"buildingId":1,"userId":1001,"dateCreated":"2021-12-19 15:58:00","title":"Second demo issue","details":"Water are leacking in the stairs","priority":"Urgent","status":"Open","img":"images/issue-image.jpg","ArrayTicketCommentsId":[{"dateCreated":"2021-12-19 16:30:00","userId":1001,"buildingId":1,"commentText":"This is comment no 1 for ticket no 2 "}]}]')},91:function(e,t,n){}},[[136,1,2]]]);
//# sourceMappingURL=main.2c5dd958.chunk.js.map